<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />



<meta name="date" content="2023-09-19" />

<title>Week 3 Materials and Homeworks</title>

<script src="Week3_material_homework_files/header-attrs-2.25/header-attrs.js"></script>
<script src="Week3_material_homework_files/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="Week3_material_homework_files/bootstrap-3.3.5/css/cerulean.min.css" rel="stylesheet" />
<script src="Week3_material_homework_files/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="Week3_material_homework_files/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="Week3_material_homework_files/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="Week3_material_homework_files/jqueryui-1.13.2/jquery-ui.min.js"></script>
<link href="Week3_material_homework_files/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="Week3_material_homework_files/tocify-1.9.1/jquery.tocify.js"></script>
<script src="Week3_material_homework_files/navigation-1.1/tabsets.js"></script>
<script src="Week3_material_homework_files/clipboard-1.7.1/clipboard.min.js"></script>
<link href="Week3_material_homework_files/primer-tooltips-1.4.0/build.css" rel="stylesheet" />
<link href="Week3_material_homework_files/klippy-0.0.0.9500/css/klippy.min.css" rel="stylesheet" />
<script src="Week3_material_homework_files/klippy-0.0.0.9500/js/klippy.min.js"></script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>



<style type="text/css">
  code {
    white-space: pre;
  }
  .sourceCode {
    overflow: visible;
  }
</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  { color: #cccccc; background-color: #303030; }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ffcfaf; } /* Alert */
code span.an { color: #7f9f7f; font-weight: bold; } /* Annotation */
code span.at { } /* Attribute */
code span.bn { color: #dca3a3; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #f0dfaf; } /* ControlFlow */
code span.ch { color: #dca3a3; } /* Char */
code span.cn { color: #dca3a3; font-weight: bold; } /* Constant */
code span.co { color: #7f9f7f; } /* Comment */
code span.cv { color: #7f9f7f; font-weight: bold; } /* CommentVar */
code span.do { color: #7f9f7f; } /* Documentation */
code span.dt { color: #dfdfbf; } /* DataType */
code span.dv { color: #dcdccc; } /* DecVal */
code span.er { color: #c3bf9f; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #c0bed1; } /* Float */
code span.fu { color: #efef8f; } /* Function */
code span.im { } /* Import */
code span.in { color: #7f9f7f; font-weight: bold; } /* Information */
code span.kw { color: #f0dfaf; } /* Keyword */
code span.op { color: #f0efd0; } /* Operator */
code span.ot { color: #efef8f; } /* Other */
code span.pp { color: #ffcfaf; font-weight: bold; } /* Preprocessor */
code span.sc { color: #dca3a3; } /* SpecialChar */
code span.ss { color: #cc9393; } /* SpecialString */
code span.st { color: #cc9393; } /* String */
code span.va { } /* Variable */
code span.vs { color: #cc9393; } /* VerbatimString */
code span.wa { color: #7f9f7f; font-weight: bold; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    var j = 0;
    while (j < rules.length) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") {
        j++;
        continue;
      }
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') {
        j++;
        continue;
      }
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>







<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>



<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before, .tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "\e259";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "\e258";
  font-family: 'Glyphicons Halflings';
  border: none;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<h2 id="toc-title">Table of Contents</h2>
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div id="header">



<h1 class="title toc-ignore">Week 3 Materials and Homeworks</h1>
<h3 class="subtitle">Clinical Study Details and Understanding the
data</h3>
<h4 class="author"><div class="line-block">Author: Xiaoni Xu<br />
[Github: <a href="https://github.com/XiaoniXu"
class="uri">https://github.com/XiaoniXu</a>]<br />
[LinkedIn: <a href="https://www.linkedin.com/in/xiaoni-xu-275a21172/"
class="uri">https://www.linkedin.com/in/xiaoni-xu-275a21172/</a>]</div></h4>
<h4 class="date">2023-09-19</h4>

</div>

<div id="TOC">
<h3 id="toc-title">Table of Contents</h3>
<ul>
<li><a href="#read-data" id="toc-read-data">Read data</a></li>
<li><a href="#writing-functions" id="toc-writing-functions">Writing
functions</a>
<ul>
<li><a href="#listing" id="toc-listing">Listing</a></li>
<li><a href="#figures" id="toc-figures">Figures</a></li>
<li><a href="#prepare-data-for-plot"
id="toc-prepare-data-for-plot">Prepare Data for Plot</a></li>
<li><a href="#plot-function" id="toc-plot-function">Plot
Function</a></li>
</ul></li>
<li><a href="#r-shiny-application" id="toc-r-shiny-application">R Shiny
Application</a>
<ul>
<li><a href="#ui-layoutfrontend-the-application"
id="toc-ui-layoutfrontend-the-application">UI (Layout/FrontEnd the
Application)</a></li>
<li><a href="#server-backend-the-application"
id="toc-server-backend-the-application">Server (Backend the
application)</a></li>
<li><a href="#www-folder" id="toc-www-folder">www folder</a></li>
<li><a href="#source-folder" id="toc-source-folder">Source
folder</a></li>
</ul></li>
<li><a href="#publishing-r-shiny-application"
id="toc-publishing-r-shiny-application">Publishing R Shiny
Application</a></li>
</ul>
</div>

<script>
  addClassKlippyToPreCode();
  addClassKlippyTo("pre.r, pre.markdown");
  addKlippy('right', 'top', '#FFFFFF', '1', 'Click to copy', 'Copied!');
</script>
<style type="text/css">
#TOC {
  left: 100px;
  margin: 10px 0px 25px 0px;
  border-color: #184558;
}

.main-container {
    margin-left: 30px;
}

.list-group-item.active, .list-group-item.active:hover, .list-group-item.active:focus {
    z-index: 2;
    color: #ffffff;
    background-color: #9F2B68;
    border-color: #9F2B68;
}

.tocify-subheader > .tocify-item { text-indent: initial; padding-left:2em;}


/*https://www.w3.org/Style/Examples/007/fonts.en.html*/
.author {font-size: 15px;font-family: "American Typewriter", serif;color:#9F2B68;}
.title {font-family: "Apple Chancery", cursive; font-size: 35px;font-weight:bold;}
.date {font-family: "American Typewriter", serif; font-size: 20px;font-weight:bold;}
.subtitle {font-family: "American Typewriter", serif; font-size: 20px;font-weight:bold;}
h3 {font-family: "American Typewriter", serif; font-size: 20px;font-weight:bold;}
h4 {font-family: "American Typewriter", serif; font-size: 18px;font-weight:bold;}
h5 {font-family: "American Typewriter", serif; font-size: 18px;font-weight:bold; color:#9F2B68;}
p {font-family: "American Typewriter", serif;font-size: 14px;}


.header {
  border-bottom-color: #555;
  font-size: 1.5rem;
  font-weight: 700;
  /*text-transform: uppercase;*/
  color:#465362; 
}
/* Highlight headers when sorting */
.header:hover,
.header:focus,
.header[aria-sort="ascending"],
.header[aria-sort="descending"] {
  background-color: #eee;
}

.manufacturer {
  display: flex;
  align-items: center;
}
.manufacturer-logo {
  height: 2rem;
  width: 4rem;
  border: 1px solid #f0f0f0;
}
.manufacturer-name {
  margin-left: 1rem;
  font-size: 1.4rem;
  font-weight: 700;
  color:#465362; 
}
.manufacturer-origin {
  margin-left: 0.35rem;
  color: hsl(0, 0%, 45%);
  font-size: 1.125rem;
  font-weight: 700;
}

a {color:#9F2B68;font-weight:normal}

body, td {
   font-size: 14px;
}
code.r{
  font-size: 16px;
}
pre {
  font-size: 16px
}

</style>
<style type="text/css">

/* pkgdown articles */
.row > main {
  max-width: 1800px;
}
.page-header {
  display: none;
}
/* rmarkdown html documents */
.main-container {
  max-width: 1600px !important;
  margin-left: 80px;
  margin-right: 80px;
  color:#184558;
  font-family: "American Typewriter", serif; 
  font-size: 15px;
}
</style>
<div id="read-data" class="section level2">
<h2>Read data</h2>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="co"># read all data in data folder</span></span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a>paths <span class="ot">&lt;-</span> <span class="fu">list.files</span>(<span class="st">&quot;data&quot;</span>)</span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a>dataset <span class="ot">&lt;-</span> purrr<span class="sc">::</span><span class="fu">map</span>(</span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a>  paths,</span>
<span id="cb1-5"><a href="#cb1-5" tabindex="-1"></a>  <span class="sc">~</span><span class="fu">read.csv</span>(glue<span class="sc">::</span><span class="fu">glue</span>(<span class="st">&quot;data/{.x}&quot;</span>))</span>
<span id="cb1-6"><a href="#cb1-6" tabindex="-1"></a>)</span>
<span id="cb1-7"><a href="#cb1-7" tabindex="-1"></a><span class="fu">names</span>(dataset) <span class="ot">&lt;-</span> <span class="fu">gsub</span>(<span class="st">&quot;.csv&quot;</span>,<span class="st">&quot;&quot;</span>, paths)</span>
<span id="cb1-8"><a href="#cb1-8" tabindex="-1"></a><span class="fu">list2env</span>(dataset, <span class="at">envir =</span> <span class="fu">globalenv</span>())</span>
<span id="cb1-9"><a href="#cb1-9" tabindex="-1"></a><span class="co">#======================================</span></span>
<span id="cb1-10"><a href="#cb1-10" tabindex="-1"></a><span class="co"># Precossing data</span></span>
<span id="cb1-11"><a href="#cb1-11" tabindex="-1"></a>adsl<span class="sc">$</span>study <span class="ot">&lt;-</span> <span class="fu">factor</span>(<span class="fu">ifelse</span>(adsl<span class="sc">$</span>STUDYID <span class="sc">==</span> <span class="st">&quot;STUDY-1&quot;</span>, <span class="st">&quot;National Study&quot;</span>, <span class="st">&quot;Non-National Study&quot;</span>), <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">&quot;National Study&quot;</span>,<span class="st">&quot;Non-National Study&quot;</span>))</span></code></pre></div>
</div>
<div id="writing-functions" class="section level2">
<h2>Writing functions</h2>
<p>I would like you read more about writing function from this book
<code>R for Data Science</code> <a
href="https://r4ds.had.co.nz/functions.html"
class="uri">https://r4ds.had.co.nz/functions.html</a></p>
<div id="listing" class="section level3">
<h3>Listing</h3>
<p>Table for continuous variables</p>
<ul>
<p><img src="pics/tb_continuous.png" style="width:40.0%" /></p>
<ol style="list-style-type: decimal">
<li>How many columns are there?</li>
</ol>
<ol style="list-style-type: lower-alpha">
<li><p>Output of Continuous Variable (1st Column)</p></li>
<li><p>Group Variable (2nd and 3rd Column)</p></li>
<li><p>Total Column (Sum of 2nd and 3rd Column)</p></li>
</ol>
<ol start="2" style="list-style-type: decimal">
<li>How many rows are there? How many are decimal points? How is the
format?</li>
</ol>
<p>We need to show n, mean (sd), min, max, 25%, 75%</p>
<ol start="3" style="list-style-type: decimal">
<li>Think about which parameters to create this table?</li>
</ol>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a>calc_numeric_statistics <span class="ot">&lt;-</span> <span class="cf">function</span>(df, var, group) {</span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a>  var <span class="ot">=</span> <span class="fu">ensym</span>(var)</span>
<span id="cb2-3"><a href="#cb2-3" tabindex="-1"></a>  group <span class="ot">=</span> <span class="fu">ensym</span>(group)</span>
<span id="cb2-4"><a href="#cb2-4" tabindex="-1"></a>  df <span class="sc">%&gt;%</span></span>
<span id="cb2-5"><a href="#cb2-5" tabindex="-1"></a>    <span class="fu">group_by</span>(<span class="sc">!!</span>group) <span class="sc">%&gt;%</span></span>
<span id="cb2-6"><a href="#cb2-6" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">summarise</span>(</span>
<span id="cb2-7"><a href="#cb2-7" tabindex="-1"></a>        <span class="at">n =</span> dplyr<span class="sc">::</span><span class="fu">n</span>(),</span>
<span id="cb2-8"><a href="#cb2-8" tabindex="-1"></a>        <span class="at">mean =</span> <span class="fu">mean</span>(<span class="sc">!!</span>var, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb2-9"><a href="#cb2-9" tabindex="-1"></a>        <span class="at">sd =</span> <span class="fu">sd</span>(<span class="sc">!!</span>var, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb2-10"><a href="#cb2-10" tabindex="-1"></a>        <span class="at">min =</span> <span class="fu">min</span>(<span class="sc">!!</span>var, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb2-11"><a href="#cb2-11" tabindex="-1"></a>        <span class="at">max =</span> <span class="fu">max</span>(<span class="sc">!!</span>var, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb2-12"><a href="#cb2-12" tabindex="-1"></a>        <span class="at">median =</span> <span class="fu">median</span>(<span class="sc">!!</span>var, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb2-13"><a href="#cb2-13" tabindex="-1"></a>        <span class="at">p25 =</span> <span class="fu">quantile</span>(<span class="sc">!!</span>var, <span class="fl">0.25</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb2-14"><a href="#cb2-14" tabindex="-1"></a>        <span class="at">p75 =</span> <span class="fu">quantile</span>(<span class="sc">!!</span>var, <span class="fl">0.75</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) </span>
<span id="cb2-15"><a href="#cb2-15" tabindex="-1"></a></span>
<span id="cb2-16"><a href="#cb2-16" tabindex="-1"></a>}</span>
<span id="cb2-17"><a href="#cb2-17" tabindex="-1"></a></span>
<span id="cb2-18"><a href="#cb2-18" tabindex="-1"></a><span class="fu">calc_numeric_statistics</span>(adsl, CGISGR1N, ARM)</span></code></pre></div>
<p>Table for categorical variables</p>
<ol style="list-style-type: decimal">
<li>How many columns are there?</li>
</ol>
<ol style="list-style-type: lower-alpha">
<li><p>Levels of Categorical Variable (1st Column)</p></li>
<li><p>Group Variable (2nd and 3rd Column)</p></li>
<li><p>Total Column (Sum of 2nd and 3rd Column)</p></li>
</ol>
<ol start="2" style="list-style-type: decimal">
<li>How many rows are there? How is the format?</li>
</ol>
<p>We need to show the n (%) by each level</p>
<ol start="3" style="list-style-type: decimal">
<li>Think about which parameters to create this table?</li>
</ol>
<ul>
<p><img src="pics/tb_categorical.png" style="width:40.0%" /></p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a>calc_catgorical_statistics <span class="ot">&lt;-</span> <span class="cf">function</span>(df,var,group){</span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a>  vars <span class="ot">&lt;-</span> <span class="fu">ensym</span>(var)</span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a>  groups <span class="ot">&lt;-</span> <span class="fu">ensym</span>(group)</span>
<span id="cb3-4"><a href="#cb3-4" tabindex="-1"></a>  dt <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span> <span class="fu">count</span>(<span class="sc">!!</span>groups, <span class="sc">!!</span>vars) <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(<span class="sc">!!</span>groups) <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">per =</span> (n<span class="sc">/</span> <span class="fu">sum</span>(n))<span class="sc">*</span><span class="dv">100</span>)</span>
<span id="cb3-5"><a href="#cb3-5" tabindex="-1"></a>  <span class="fu">return</span>(dt)</span>
<span id="cb3-6"><a href="#cb3-6" tabindex="-1"></a>}</span>
<span id="cb3-7"><a href="#cb3-7" tabindex="-1"></a></span>
<span id="cb3-8"><a href="#cb3-8" tabindex="-1"></a><span class="fu">calc_catgorical_statistics</span>(adsl, BMIGR1, ARM)</span></code></pre></div>
</div>
<div id="figures" class="section level3">
<h3>Figures</h3>
</div>
<div id="prepare-data-for-plot" class="section level3">
<h3>Prepare Data for Plot</h3>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a>get_bar_dt <span class="ot">&lt;-</span> <span class="cf">function</span>(df,var, ...){</span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a>  vars <span class="ot">&lt;-</span> <span class="fu">ensym</span>(var)</span>
<span id="cb4-3"><a href="#cb4-3" tabindex="-1"></a>  groups <span class="ot">&lt;-</span> <span class="fu">ensyms</span>(...)</span>
<span id="cb4-4"><a href="#cb4-4" tabindex="-1"></a>  dt <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span> <span class="fu">count</span>(<span class="sc">!!!</span>groups, <span class="sc">!!</span>vars) <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(<span class="sc">!!!</span>groups) <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">per =</span> (n<span class="sc">/</span> <span class="fu">sum</span>(n))<span class="sc">*</span><span class="dv">100</span>)</span>
<span id="cb4-5"><a href="#cb4-5" tabindex="-1"></a>  <span class="fu">return</span>(dt)</span>
<span id="cb4-6"><a href="#cb4-6" tabindex="-1"></a>}</span>
<span id="cb4-7"><a href="#cb4-7" tabindex="-1"></a></span>
<span id="cb4-8"><a href="#cb4-8" tabindex="-1"></a></span>
<span id="cb4-9"><a href="#cb4-9" tabindex="-1"></a>gender_dt <span class="ot">&lt;-</span> <span class="fu">get_bar_dt</span>(adsl, SEX, study, ARM)</span>
<span id="cb4-10"><a href="#cb4-10" tabindex="-1"></a>gender_dt <span class="ot">&lt;-</span> <span class="fu">get_bar_dt</span>(adsl, <span class="st">&quot;SEX&quot;</span>, <span class="st">&quot;study&quot;</span>, <span class="st">&quot;ARM&quot;</span>)</span>
<span id="cb4-11"><a href="#cb4-11" tabindex="-1"></a></span>
<span id="cb4-12"><a href="#cb4-12" tabindex="-1"></a>dt <span class="ot">&lt;-</span> gender_dt</span>
<span id="cb4-13"><a href="#cb4-13" tabindex="-1"></a>dt<span class="sc">$</span>text <span class="ot">&lt;-</span> <span class="fu">paste0</span>(dt<span class="sc">$</span>n, <span class="st">&quot;</span><span class="sc">\n</span><span class="st">(&quot;</span>, <span class="fu">sprintf</span>(<span class="st">&#39;%.1f&#39;</span>, dt<span class="sc">$</span>per), <span class="st">&quot;)&quot;</span>)</span>
<span id="cb4-14"><a href="#cb4-14" tabindex="-1"></a>dt<span class="sc">$</span>text1 <span class="ot">&lt;-</span> <span class="fu">paste0</span>(dt<span class="sc">$</span>n, <span class="st">&quot; (&quot;</span>, <span class="fu">sprintf</span>(<span class="st">&#39;%.1f&#39;</span>, dt<span class="sc">$</span>per), <span class="st">&quot;%)&quot;</span>)</span>
<span id="cb4-15"><a href="#cb4-15" tabindex="-1"></a>dt<span class="sc">$</span>key <span class="ot">&lt;-</span> <span class="fu">paste0</span>(dt<span class="sc">$</span>study, <span class="st">&quot;_&quot;</span>, dt<span class="sc">$</span>SEX)</span>
<span id="cb4-16"><a href="#cb4-16" tabindex="-1"></a>dt<span class="sc">$</span>key <span class="ot">&lt;-</span> <span class="fu">factor</span>(dt<span class="sc">$</span>key, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">&quot;National Study_F&quot;</span>, <span class="st">&quot;National Study_M&quot;</span> ,<span class="st">&quot;Non-National Study_F&quot;</span> ,<span class="st">&quot;Non-National Study_M&quot;</span>))</span>
<span id="cb4-17"><a href="#cb4-17" tabindex="-1"></a>dt<span class="sc">$</span>hovertext <span class="ot">&lt;-</span> <span class="fu">paste</span>(dt<span class="sc">$</span>study,<span class="st">&quot;&lt;br&gt;&quot;</span>, dt<span class="sc">$</span>ARM,<span class="st">&quot;&lt;br&gt;&quot;</span>, dt<span class="sc">$</span>SEX,<span class="st">&quot;&lt;br&gt;&quot;</span>, dt<span class="sc">$</span>text1)</span></code></pre></div>
</div>
<div id="plot-function" class="section level3">
<h3>Plot Function</h3>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a>bar_plot <span class="ot">&lt;-</span> <span class="cf">function</span>(dt, x_var, y_var, color_var, <span class="at">title =</span> <span class="st">&quot;&quot;</span>, ticktext,tickvals ){</span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a>  dt <span class="sc">%&gt;%</span> <span class="fu">plot_ly</span>(  <span class="at">x =</span> <span class="sc">~</span> <span class="fu">get</span>(x_var),</span>
<span id="cb5-3"><a href="#cb5-3" tabindex="-1"></a>                   <span class="at">color =</span> <span class="sc">~</span> <span class="fu">get</span>(color_var),</span>
<span id="cb5-4"><a href="#cb5-4" tabindex="-1"></a>                   <span class="at">y =</span> <span class="sc">~</span><span class="fu">get</span>(y_var),</span>
<span id="cb5-5"><a href="#cb5-5" tabindex="-1"></a>                   <span class="at">legendgroup=</span><span class="sc">~</span><span class="fu">get</span>(x_var),</span>
<span id="cb5-6"><a href="#cb5-6" tabindex="-1"></a>                   <span class="at">text=</span> <span class="sc">~</span>text,</span>
<span id="cb5-7"><a href="#cb5-7" tabindex="-1"></a>                   <span class="co"># customdata = ~study,</span></span>
<span id="cb5-8"><a href="#cb5-8" tabindex="-1"></a>                   <span class="co"># source = &quot;gender_out&quot;,</span></span>
<span id="cb5-9"><a href="#cb5-9" tabindex="-1"></a>                   <span class="at">hoverinfo =</span> <span class="st">&quot;text&quot;</span>,</span>
<span id="cb5-10"><a href="#cb5-10" tabindex="-1"></a>                   <span class="at">hovertext =</span> <span class="sc">~</span> hovertext,</span>
<span id="cb5-11"><a href="#cb5-11" tabindex="-1"></a>                   <span class="at">textposition =</span> <span class="st">&#39;outside&#39;</span>,</span>
<span id="cb5-12"><a href="#cb5-12" tabindex="-1"></a>                   <span class="at">textfont =</span> <span class="fu">list</span>(<span class="at">size =</span><span class="dv">11</span>, <span class="at">color=</span> <span class="st">&quot;black&quot;</span>),</span>
<span id="cb5-13"><a href="#cb5-13" tabindex="-1"></a>                   <span class="at">colors =</span> <span class="fu">c</span>(<span class="st">&quot;#ffc04c&quot;</span>, <span class="st">&quot;#4c8bff&quot;</span>), <span class="co">#c(&quot;#80cdc1&quot;, &quot;#01665e&quot;),</span></span>
<span id="cb5-14"><a href="#cb5-14" tabindex="-1"></a>                   <span class="at">opacity =</span> <span class="dv">1</span>,</span>
<span id="cb5-15"><a href="#cb5-15" tabindex="-1"></a>                   <span class="at">height =</span> <span class="dv">400</span>) <span class="sc">%&gt;%</span></span>
<span id="cb5-16"><a href="#cb5-16" tabindex="-1"></a>    <span class="fu">layout</span>(</span>
<span id="cb5-17"><a href="#cb5-17" tabindex="-1"></a>      <span class="at">bargap =</span> <span class="fl">0.4</span>,</span>
<span id="cb5-18"><a href="#cb5-18" tabindex="-1"></a>      <span class="at">annotations =</span> <span class="fu">list</span>(</span>
<span id="cb5-19"><a href="#cb5-19" tabindex="-1"></a>        <span class="fu">list</span>(</span>
<span id="cb5-20"><a href="#cb5-20" tabindex="-1"></a>          <span class="at">text =</span> <span class="st">&quot;National Study&quot;</span>,</span>
<span id="cb5-21"><a href="#cb5-21" tabindex="-1"></a>          <span class="at">font =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">&#39;black&#39;</span>,</span>
<span id="cb5-22"><a href="#cb5-22" tabindex="-1"></a>                      <span class="at">family =</span> <span class="st">&#39;sans serif&#39;</span>,</span>
<span id="cb5-23"><a href="#cb5-23" tabindex="-1"></a>                      <span class="at">size =</span> <span class="dv">18</span>),</span>
<span id="cb5-24"><a href="#cb5-24" tabindex="-1"></a>          <span class="at">xref =</span> <span class="st">&quot;paper&quot;</span>,</span>
<span id="cb5-25"><a href="#cb5-25" tabindex="-1"></a>          <span class="at">yref =</span> <span class="st">&quot;paper&quot;</span>,</span>
<span id="cb5-26"><a href="#cb5-26" tabindex="-1"></a>          <span class="at">yanchor =</span> <span class="st">&quot;bottom&quot;</span>,</span>
<span id="cb5-27"><a href="#cb5-27" tabindex="-1"></a>          <span class="at">xanchor =</span> <span class="st">&quot;center&quot;</span>,</span>
<span id="cb5-28"><a href="#cb5-28" tabindex="-1"></a>          <span class="at">align =</span> <span class="st">&quot;center&quot;</span>,</span>
<span id="cb5-29"><a href="#cb5-29" tabindex="-1"></a>          <span class="at">x =</span> <span class="fl">0.25</span>,</span>
<span id="cb5-30"><a href="#cb5-30" tabindex="-1"></a>          <span class="at">y =</span> <span class="sc">-</span><span class="fl">0.25</span>,</span>
<span id="cb5-31"><a href="#cb5-31" tabindex="-1"></a>          <span class="at">showarrow =</span> <span class="cn">FALSE</span>)</span>
<span id="cb5-32"><a href="#cb5-32" tabindex="-1"></a>        ,<span class="fu">list</span>(</span>
<span id="cb5-33"><a href="#cb5-33" tabindex="-1"></a>          <span class="at">text =</span> <span class="st">&quot;Non National Study&quot;</span>,</span>
<span id="cb5-34"><a href="#cb5-34" tabindex="-1"></a>          <span class="at">font =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">&#39;black&#39;</span>,</span>
<span id="cb5-35"><a href="#cb5-35" tabindex="-1"></a>                      <span class="at">family =</span> <span class="st">&#39;sans serif&#39;</span>,</span>
<span id="cb5-36"><a href="#cb5-36" tabindex="-1"></a>                      <span class="at">size =</span> <span class="dv">18</span>),</span>
<span id="cb5-37"><a href="#cb5-37" tabindex="-1"></a>          <span class="at">xref =</span> <span class="st">&quot;paper&quot;</span>,</span>
<span id="cb5-38"><a href="#cb5-38" tabindex="-1"></a>          <span class="at">yref =</span> <span class="st">&quot;paper&quot;</span>,</span>
<span id="cb5-39"><a href="#cb5-39" tabindex="-1"></a>          <span class="at">yanchor =</span> <span class="st">&quot;bottom&quot;</span>,</span>
<span id="cb5-40"><a href="#cb5-40" tabindex="-1"></a>          <span class="at">xanchor =</span> <span class="st">&quot;center&quot;</span>,</span>
<span id="cb5-41"><a href="#cb5-41" tabindex="-1"></a>          <span class="at">align =</span> <span class="st">&quot;center&quot;</span>,</span>
<span id="cb5-42"><a href="#cb5-42" tabindex="-1"></a>          <span class="at">x =</span> <span class="fl">0.75</span>,</span>
<span id="cb5-43"><a href="#cb5-43" tabindex="-1"></a>          <span class="at">y =</span> <span class="sc">-</span><span class="fl">0.25</span>,</span>
<span id="cb5-44"><a href="#cb5-44" tabindex="-1"></a>          <span class="at">showarrow =</span> <span class="cn">FALSE</span>)</span>
<span id="cb5-45"><a href="#cb5-45" tabindex="-1"></a>      ),<span class="at">boxmode =</span> <span class="st">&quot;group&quot;</span>,</span>
<span id="cb5-46"><a href="#cb5-46" tabindex="-1"></a>      <span class="at">font =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">&#39;gray&#39;</span>,<span class="at">family =</span> <span class="st">&#39;sans serif&#39;</span>,<span class="at">size =</span> <span class="dv">12</span>),</span>
<span id="cb5-47"><a href="#cb5-47" tabindex="-1"></a>      <span class="at">hoverlabel =</span> <span class="fu">list</span>(<span class="at">font=</span><span class="fu">list</span>(<span class="at">size=</span><span class="dv">13</span>)),</span>
<span id="cb5-48"><a href="#cb5-48" tabindex="-1"></a>      <span class="at">title =</span> <span class="fu">list</span>(<span class="at">text =</span> title,</span>
<span id="cb5-49"><a href="#cb5-49" tabindex="-1"></a>                   <span class="at">font =</span> <span class="fu">list</span>(</span>
<span id="cb5-50"><a href="#cb5-50" tabindex="-1"></a>                     <span class="at">family =</span> <span class="st">&#39;sans serif&#39;</span>,</span>
<span id="cb5-51"><a href="#cb5-51" tabindex="-1"></a>                     <span class="at">size =</span> <span class="dv">20</span>,</span>
<span id="cb5-52"><a href="#cb5-52" tabindex="-1"></a>                     <span class="at">color =</span> <span class="st">&quot;black&quot;</span>)),</span>
<span id="cb5-53"><a href="#cb5-53" tabindex="-1"></a>      <span class="at">margin =</span><span class="fu">list</span>( <span class="at">l=</span><span class="dv">10</span>,<span class="at">r=</span><span class="dv">10</span>,<span class="at">b=</span><span class="dv">70</span>,<span class="at">t=</span><span class="dv">80</span>,<span class="at">pad=</span><span class="dv">10</span>),</span>
<span id="cb5-54"><a href="#cb5-54" tabindex="-1"></a>      <span class="at">xaxis =</span> <span class="fu">list</span>(</span>
<span id="cb5-55"><a href="#cb5-55" tabindex="-1"></a>        <span class="at">tickfont =</span> <span class="fu">list</span>(</span>
<span id="cb5-56"><a href="#cb5-56" tabindex="-1"></a>          <span class="at">family =</span> <span class="st">&#39;sans serif&#39;</span>,</span>
<span id="cb5-57"><a href="#cb5-57" tabindex="-1"></a>          <span class="at">size =</span> <span class="dv">17</span>,</span>
<span id="cb5-58"><a href="#cb5-58" tabindex="-1"></a>          <span class="at">color =</span> <span class="st">&quot;black&quot;</span></span>
<span id="cb5-59"><a href="#cb5-59" tabindex="-1"></a>        ),</span>
<span id="cb5-60"><a href="#cb5-60" tabindex="-1"></a>        <span class="at">titlefont =</span> <span class="fu">list</span>(</span>
<span id="cb5-61"><a href="#cb5-61" tabindex="-1"></a>          <span class="at">family =</span> <span class="st">&#39;sans serif&#39;</span>,</span>
<span id="cb5-62"><a href="#cb5-62" tabindex="-1"></a>          <span class="at">size =</span> <span class="dv">17</span>,</span>
<span id="cb5-63"><a href="#cb5-63" tabindex="-1"></a>          <span class="at">color =</span> <span class="st">&quot;black&quot;</span></span>
<span id="cb5-64"><a href="#cb5-64" tabindex="-1"></a>        ),</span>
<span id="cb5-65"><a href="#cb5-65" tabindex="-1"></a>        <span class="at">title =</span> <span class="st">&quot;&quot;</span>,</span>
<span id="cb5-66"><a href="#cb5-66" tabindex="-1"></a>        <span class="at">zeroline =</span> <span class="cn">FALSE</span>,</span>
<span id="cb5-67"><a href="#cb5-67" tabindex="-1"></a>        <span class="at">ticktext =</span> ticktext,</span>
<span id="cb5-68"><a href="#cb5-68" tabindex="-1"></a>        <span class="at">tickvals =</span> tickvals,</span>
<span id="cb5-69"><a href="#cb5-69" tabindex="-1"></a>        <span class="at">tickmode =</span> <span class="st">&quot;array&quot;</span>, </span>
<span id="cb5-70"><a href="#cb5-70" tabindex="-1"></a>        <span class="at">color =</span> <span class="st">&quot;black&quot;</span></span>
<span id="cb5-71"><a href="#cb5-71" tabindex="-1"></a>      ),</span>
<span id="cb5-72"><a href="#cb5-72" tabindex="-1"></a>      <span class="at">yaxis =</span> <span class="fu">list</span>(</span>
<span id="cb5-73"><a href="#cb5-73" tabindex="-1"></a>        <span class="at">range =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="fu">max</span>(dt<span class="sc">$</span>n) <span class="sc">+</span>  (<span class="fu">max</span>(dt<span class="sc">$</span>n)<span class="sc">/</span><span class="dv">3</span>) ),</span>
<span id="cb5-74"><a href="#cb5-74" tabindex="-1"></a>        <span class="at">tickfont =</span> <span class="fu">list</span>(</span>
<span id="cb5-75"><a href="#cb5-75" tabindex="-1"></a>          <span class="at">family =</span> <span class="st">&#39;sans serif&#39;</span>,</span>
<span id="cb5-76"><a href="#cb5-76" tabindex="-1"></a>          <span class="at">size =</span> <span class="dv">17</span>,</span>
<span id="cb5-77"><a href="#cb5-77" tabindex="-1"></a>          <span class="at">color =</span> <span class="st">&quot;black&quot;</span>),</span>
<span id="cb5-78"><a href="#cb5-78" tabindex="-1"></a>        <span class="at">titlefont =</span> <span class="fu">list</span>(</span>
<span id="cb5-79"><a href="#cb5-79" tabindex="-1"></a>          <span class="at">family =</span> <span class="st">&#39;sans serif&#39;</span>,</span>
<span id="cb5-80"><a href="#cb5-80" tabindex="-1"></a>          <span class="at">size =</span> <span class="dv">17</span>,</span>
<span id="cb5-81"><a href="#cb5-81" tabindex="-1"></a>          <span class="at">color =</span> <span class="st">&quot;black&quot;</span>),</span>
<span id="cb5-82"><a href="#cb5-82" tabindex="-1"></a>        <span class="at">title =</span> <span class="st">&quot;&quot;</span>,</span>
<span id="cb5-83"><a href="#cb5-83" tabindex="-1"></a>        <span class="at">zeroline =</span> <span class="cn">FALSE</span>,</span>
<span id="cb5-84"><a href="#cb5-84" tabindex="-1"></a>        <span class="at">color =</span> <span class="st">&quot;black&quot;</span>),</span>
<span id="cb5-85"><a href="#cb5-85" tabindex="-1"></a>      <span class="at">legend =</span> <span class="fu">list</span>(<span class="at">orientation =</span> <span class="st">&quot;v&quot;</span>,   <span class="co"># show entries horizontally</span></span>
<span id="cb5-86"><a href="#cb5-86" tabindex="-1"></a>                    <span class="at">xanchor =</span> <span class="st">&quot;center&quot;</span>,  <span class="co"># use center of legend as anchor</span></span>
<span id="cb5-87"><a href="#cb5-87" tabindex="-1"></a>                    <span class="at">y =</span> <span class="dv">1</span>,</span>
<span id="cb5-88"><a href="#cb5-88" tabindex="-1"></a>                    <span class="at">x =</span> <span class="fl">0.85</span>))</span>
<span id="cb5-89"><a href="#cb5-89" tabindex="-1"></a>  </span>
<span id="cb5-90"><a href="#cb5-90" tabindex="-1"></a>}</span>
<span id="cb5-91"><a href="#cb5-91" tabindex="-1"></a></span>
<span id="cb5-92"><a href="#cb5-92" tabindex="-1"></a><span class="fu">bar_plot</span>(dt, <span class="at">x_var =</span> <span class="st">&quot;key&quot;</span>, <span class="at">y_var =</span> <span class="st">&quot;n&quot;</span>, <span class="at">color_var =</span> <span class="st">&quot;ARM&quot;</span>, <span class="at">title =</span> <span class="st">&quot;Gender Bar Plot&quot;</span>, <span class="at">ticktext =</span> <span class="fu">list</span>(<span class="st">&quot;F&quot;</span>,<span class="st">&quot;M&quot;</span>,<span class="st">&quot;F&quot;</span>,<span class="st">&quot;M&quot;</span>), </span>
<span id="cb5-93"><a href="#cb5-93" tabindex="-1"></a>         <span class="at">tickvals =</span> <span class="fu">list</span>(<span class="st">&quot;National Study_F&quot;</span>, <span class="st">&quot;National Study_M&quot;</span> ,<span class="st">&quot;Non-National Study_F&quot;</span> ,<span class="st">&quot;Non-National Study_M&quot;</span>) )</span></code></pre></div>
</div>
</div>
<div id="r-shiny-application" class="section level2">
<h2>R Shiny Application</h2>
<p>It’s a visualization dashboard in order to produce actionable
insights.</p>
<ul>
<p><img src="pics/app.png" style="width:40.0%" /></p>
</ul>
<div id="ui-layoutfrontend-the-application" class="section level3">
<h3>UI (Layout/FrontEnd the Application)</h3>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a><span class="co"># path &lt;- &quot;../data&quot;</span></span>
<span id="cb6-2"><a href="#cb6-2" tabindex="-1"></a><span class="co"># ls_file &lt;- list.files(path, pattern = &quot;.csv&quot;)</span></span>
<span id="cb6-3"><a href="#cb6-3" tabindex="-1"></a><span class="co"># ls_file</span></span></code></pre></div>
</div>
<div id="server-backend-the-application" class="section level3">
<h3>Server (Backend the application)</h3>
</div>
<div id="www-folder" class="section level3">
<h3>www folder</h3>
</div>
<div id="source-folder" class="section level3">
<h3>Source folder</h3>
</div>
</div>
<div id="publishing-r-shiny-application" class="section level2">
<h2>Publishing R Shiny Application</h2>
</div>

&nbsp;
    <h5 style="text-align: center;color:#465362;"> Thank you for reading </h5>
    <hr style="height:2px;border-width:0;color:#184558;background-color:#184558">
    <div class="footer">
    <p style="text-align: center;">R Shiny with <a href="https://github.com/loankimrobinson/">Loan Robinson</a></p>
    <p style="text-align: center;"><span style="color: #808080;"><em><a href="mailto:loankimrobinson@gmail.com">loankimrobinson@gmail.com</a></em></span></p>
    <!-- Add icon library -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
    <!-- Add font awesome icons -->
    <p style="text-align: center;">
      <a href="https://twitter.com/rshiny_with_loan?lang=en" class="fa fa-twitter"></a>
      <a href="https://www.linkedin.com/in/loan-robinson-86776994/" class="fa fa-linkedin"></a>
      <a href="https://github.com/loankimrobinson/" class="fa fa-github"></a>
      <a href="https://youtube.com/@rshiny_with_loan/" class="fa fa-youtube"></a>
    </p>
    </div>
    &nbsp;


</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3,h4",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>


</body>
</html>
